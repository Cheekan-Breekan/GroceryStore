@model OrderDto
@{
}

<h1 class="heading">Детали заказа</h1>

<div class="contact">
    <div class="row">
        <div class="info cart-box-container">
            @foreach (var item in Model.Items)
            {
                <div class="box">
                    <a asp-action="@nameof(HomeController.ProductInfo)" asp-controller="@(ControllerExt.NameOf<HomeController>())" asp-route-productId="@item.Product.Id">
                    <img class="mt-3 mb-3 product-image"
                         src="@(Url.Action(nameof(ImagesController.GetImage), ControllerExt.NameOf<ImagesController>(), new {imagePath = item.Product.ImageMainPath}))" />
                             </a>
                    <p><span><a asp-action="@nameof(HomeController.ProductInfo)" asp-controller="@(ControllerExt.NameOf<HomeController>())" 
                        asp-route-productId="@item.Product.Id">@item.Product.Name</a></span></p>
                    <p><span>Категория: </span>@item.Product.Category.Name</p>
                    <p>
                        <span>Цена: </span>
                        @(item.Product.Price)₽
                    </p>
                    <p><span>Заказано: </span>@item.Quantity</p>
                </div>
            }
        </div>
        <div class="cart-info">
            <p>Дата заказа: @Model.CreatedAt</p>
            <p>Общая цена: @(Model.TotalPrice)₽</p>
            <p>Всего позиций: @Model.Items.Count</p>
        </div>
    </div>
</div>


